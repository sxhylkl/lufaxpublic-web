(function(a,b,c){b.fn.lazyload=function(d){var e={threshold:0,failurelimit:3,event:"scroll",effect:"show",container:a};if(d){b.extend(e,d)}var f=this;if("scroll"==e.event){b(e.container).bind("scroll resize",function(i){var g=0,h=arguments.callee;f.each(function(){if(b.abovethetop(this,e)||b.leftofbegin(this,e)){}else{if(!b.belowthefold(this,e)&&!b.rightoffold(this,e)){b(this).trigger("appear")}else{if(g++>e.failurelimit){return false}}}});if(!f.length){b(e.container).unbind("scroll resize",h)}})}this.each(function(){var g=this;g.loaded=false;b(g).one("appear",function(){if(!this.loaded){b(g).find("[lz_src]").each(function(){var i=b(this),j=i.attr("lz_src");i.attr("src",j)});g.loaded=true}var h=b.grep(f,function(i){return !i.loaded});f=b(h)});if("scroll"!=e.event){b(g).bind(e.event,function(h){if(!g.loaded){b(g).trigger("appear")}})}});b(e.container).trigger("resize");return this};b.belowthefold=function(e,f){if(f.container===c||f.container===a){var d=b(a).height()+b(a).scrollTop()}else{var d=b(f.container).offset().top+b(f.container).height()}return d<=b(e).offset().top-f.threshold};b.rightoffold=function(e,f){if(f.container===c||f.container===a){var d=b(a).width()+b(a).scrollLeft()}else{var d=b(f.container).offset().left+b(f.container).width()}return d<=b(e).offset().left-f.threshold};b.abovethetop=function(e,f){if(f.container===c||f.container===a){var d=b(a).scrollTop()}else{var d=b(f.container).offset().top}return d>=b(e).offset().top+f.threshold+b(e).height()};b.leftofbegin=function(e,f){if(f.container===c||f.container===a){var d=b(a).scrollLeft()}else{var d=b(f.container).offset().left}return d>=b(e).offset().left+f.threshold+b(e).width()}})(window,jQuery);