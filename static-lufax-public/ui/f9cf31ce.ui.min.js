window.lufax=window.lufax||{version:"0.1.0"},lufax.util=lufax.util||{},lufax.util.statistic=function(){$(document).click(function(a){if("object"!=typeof a)return!1;var b=$.trim($(a.target).attr("data-sk-type"))||"click",c=$.trim($(a.target).attr("data-sk"));""!=c&&_gaq&&_gaq.push(["_trackEvent",b,c,"点击数"])})},$(function(){lufax.util.statistic()}),lufax.ui=lufax.ui||{},$.fn.numberstep=function(a){function b(a,b){var c=120,d=33,e=((f.totlewidth-c)/(g-1)).toFixed(2)-.01,h=(e-d).toFixed(2),i=a.replace("$state$",f.args[b].state).replace("$title$",f.args[b].title).replace("$num$",f.args[b].num).replace("$stepsWidth$",e).replace("$LineWidth$",h);return i}var c={totlewidth:a.totlewidth||$(this).parent().outerWidth(),args:a.args||[{state:"active",title:"Init",num:"1"}]},d='<li class="steps $state$" style="width: $stepsWidth$px"><div class="step-content"><p class="step-title">$title$</p><p class="step-num">$num$</p></div><p class="progress-line" style="width: $LineWidth$px">&nbsp;</p></li>',e='<li class="steps last-child $state$"><div class="step-content"><p class="step-title">$title$</p><p class="step-num">$num$</p></div></li>',f=$.extend(c,a),g=f.args.length;return this.each(function(){for(var a="",c=0;g-1>c;c++)a+=b(d,c);a+=b(e,c),$(this).addClass("com-step-wrap clearfix").css({width:f.totlewidth}).append(a)})},!function(){function a(a,b){var c=this;c.container=a,c.options=b||{},c.source="",c.src="",c.isPreCheck=!0,c.xhr="",$.extend(c,c.options)}a.prototype={template:' <label class="control-label" for="captcha-valid-num">验证码</label> <div class="controls"><span class="input-wrap icon-wrap input-small validate-input"><i class="input-icon validate">&nbsp;</i><input type="text" class="inputs" id="captcha-valid-num" name="captcha-valid-num" maxlength="4"><i class="icon captcha-valid-icon"></i></span><span class="captcha-valid-img-wrap"><img id="captcha-valid-img" width="100" height="38" src=""></span><a href="javascript:void(0);" class="change-captcha-src">换一张</a><span class="errorPanel"><b class="arrow left"> </b><span class="errorContent"></span></span></div>',init:function(){var a=this,b=a.container,c=a.src+"?source="+a.source+"&rnd="+(new Date).getTime();b.html(a.template),b.find("#captcha-valid-img").attr({src:c}),b.on("blur","#captcha-valid-num",function(){a.isPreCheck&&a.preCheck()}),b.on("click",".change-captcha-src,#captcha-valid-img",function(){a._changeCaptchaAndClearError(c)})},_error:function(a){var b=this,c=b.container;c.addClass("form-error").removeClass("form-success"),c.find(".errorContent").html(a)},_success:function(){var a=this;a.container.addClass("form-success").removeClass("form-error")},_changeCaptchaAndClearError:function(a){var b=this,c=b.container;c.removeClass("form-error").removeClass("form-success"),c.find("#captcha-valid-img").attr({src:a}),c.find("#captcha-valid-num").val("")},preCheck:function(){var a=this,b=a.container.find("#captcha-valid-num").val(),c={inputValue:b,source:a.source};""===b?a._error("请填写"):$.getJSON(a.xhr,c,function(b){return"SUCCESS"===b.result?(a._success(),!0):(a._error("验证码错误或过期"),!1)})}},lufax.ui.Captcha=a}(),!function(){function a(a,b,c){var d=this;d.titles=a,d.contents=b||[],d.options=c||{},$.extend(d,d.options),d.currentClass=d.currentClass||"tabs-curr",d.eventType=d.eventType||"mouseover",d.index=d.index||0,d.time=d.time||5e3,d.isAbleChange=!0}a.prototype._setTab=function(a,b){var c=this;if(a.addClass(c.currentClass),a.show(),b.show(),c.lazyload&&"ok"!=b.attr("lazyload")){var d=b.find("img"),e=b.find("iframe");d.each(function(){$(this).attr("src",$(this).attr("_src"))}),e.attr("src",$(this).attr("_src")),b.attr("lazyload","ok")}c.mores&&(c.mores.each(function(){$(this).hide()}),c.mores.eq(c.index).show())},a.prototype._regEvent=function(){var a=this;a.titles[a.eventType](function(){var b=null;a.contents.length>0&&(b=a.contents.eq(a.titles.index(this))),a._selectTab($(this),b),a.isAbleChange=!1}),a.titles.mouseout(function(){a.isAbleChange=!0})},a.prototype.init=function(){var a=this;a._regEvent(),a.isAuto&&a.auto(),a.index>0&&a.selectByIndex(a.index)},a.prototype.selectByIndex=function(a){var b=this,c=b.titles.eq(a),d=null;a>=0&&a<b.titles.length&&(b.contents.length>0&&(d=b.contents.eq(a)),b._selectTab(c,d))},a.prototype.next=function(){var a=this;a.selectByIndex(a.index+1)},a.prototype.prev=function(){var a=this;a.selectByIndex(a.index-1)},a.prototype.auto=function(){var a=this;window.setTimeout(function(){a.autoId=window.setInterval(function(){a.isAbleChange&&(a.next(),a.index==a.titles.length-1&&(a.index=-1))},a.time)},a.time)},a.prototype._selectTab=function(a,b){var c=this;c.titles.each(function(){$(this).removeClass(c.currentClass)}),c.contents.each(function(){$(this).hide()}),c.index=c.titles.index(a),c._setTab(a,b),c.select&&c.select({title:a,content:b,index:c.index})},lufax.ui.TabSet=a}();