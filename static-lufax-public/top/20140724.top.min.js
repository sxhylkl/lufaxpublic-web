window.lufax=window.lufax||{version:"0.1.0"},lufax.util=lufax.util||{},lufax.com=lufax.com||{},lufax.ui=lufax.ui||{},!function(){function a(a){var b=this,c={handler:null,duration:500,link:"",pageHeight:400,showMessage:!0,showQuestion:!0,messageLink:"",relatedEl:null};b.topOptions=$.extend(c,a),b.topOptions.handler&&b.initOldTop(),b.init()}a.prototype.init=function(){var a=this;a._initStructure(),a._initStatus(),a._initEvents()},a.prototype._initStructure=function(){var a=this.topOptions,b='<a href="$"  target="_blank" class="qustionnaire">';b+='<span class="qustionnaire-icon-con"><span class="quest-icon">&nbsp</span></span>',b+='<span class="text">问卷</span>',b+="</a>";var c='<a href="$"  target="_blank" class="message">';c+='<span class="message-icon-con"><span class="message-icon">&nbsp</span></span>',c+='<span class="text">留言</span>',c+="</a>";var d='<div class="top">';d+='<div class="top-icon-con"><span class="top-icon">&nbsp</span></div>',d+='<span class="text">顶部</span>',d+="</div>";var e='<div class="empty">&nbsp</div>',f='<div class="top-question-container">';a.showQuestion&&(f+=b),a.showMessage&&(f+=c),f+=e,f+=d,f+="</div>",$("body").append(f)},a.prototype._initStatus=function(){var a=this.topOptions;$(".top-question-container .qustionnaire").attr("href",a.link),$(".top-question-container .message").attr("href",a.messageLink),$(window).scrollTop()>a.pageHeight&&($(".top-question-container .empty").css("display","none"),$(".top-question-container .empty").css("visibility",""),$(".top-question-container .top").fadeIn("slow"))},a.prototype._initEvents=function(){var a=this.topOptions;$(".top-question-container .top").on("click",function(){$("html,body").animate({scrollTop:0},a.duration)}),$(".top-question-container .top").hover(function(){$(this).addClass("hover"),$(".top-question-container .top-icon").addClass("top-icon-hover")},function(){$(this).removeClass("hover"),$(".top-question-container .top-icon").removeClass("top-icon-hover")}),$(".top-question-container .qustionnaire").hover(function(){$(this).addClass("hover"),$(".top-question-container .quest-icon").addClass("quest-icon-hover")},function(){$(this).removeClass("hover"),$(".top-question-container .quest-icon").removeClass("quest-icon-hover")}),$(".top-question-container .message").hover(function(){$(this).addClass("hover"),$(".top-question-container .message-icon").addClass("message-icon-hover")},function(){$(this).removeClass("hover"),$(".top-question-container .message-icon").removeClass("message-icon-hover")}),$(window).scroll(function(){$(window).scrollTop()>a.pageHeight?($(".top-question-container .top").fadeIn("slow"),$(".top-question-container .empty").css("display","none"),$(".top-question-container .empty").css("visibility","")):$(".top-question-container .top").fadeOut("slow",function(){$(".top-question-container .empty").css("display",""),$(".top-question-container .empty").css("visibility","visible")})})},a.prototype.setPosition=function(){var a=this.topOptions.relatedEl;if(a){"string"==typeof a&&(a=$(a));var b=a.offset(),c=(b.left,a.outerWidth()),d=($(window).width()-c)/2,e=0,f=$(".top-question-container").outerWidth();e=d>80?d-40-f:10,$(".top-question-container").css("right",e)}},a.prototype.initOldTop=function(){function a(a){var b=0;b=topOptions.border?$(a).parent().outerWidth()-1:$(a).parent().outerWidth(),$(a).parent().attr("style","position:relative;"),$(a).attr("style","margin-left:"+b+"px;"),$(window).scrollTop()>300&&$(a).stop(!0,!0).show()}var b=this,c=this.topOptions.handler;return c.each(function(){$(window).scroll(function(){a(c)}),$(this).on("click",function(){$("html,body").animate({scrollTop:0},b.topOptions.duration)})})},lufax.ui.GoTop=a}();